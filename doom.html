<!DOCTYPE html>
    
    <title>DooM</title>
<head>
  <link rel="stylesheet" href="Retroify.css">
</head>
    <style>
      #output {
        border: 3px groove aquamarine;
        background-color: bisque;
        width: 550px;
        height: 400px;
        font-family: monospace, serif;
        font-size: 10px;
        overflow-y: scroll;
      }
      #output span.log {
        color:darkslateblue;
      }
      #output span.stdout {
        color: black;
      }
      #output span.stderr {
        font-weight: bold;
        color:brown;
      }

      .container {
        display: flex;
      }
    </style>
  </head>

  <body data-new-gr-c-s-check-loaded="14.1145.0" data-gr-ext-installed="">
    <h1>DooM</h1>
    <p>A wasm32 port of 1997 linuxdoom-1.10 with minimal modifications to the sources.</p>
    <p id="focushint" style="font-weight: bold;">Click on the canvas to capute input and start playing.</p>
    <p>Use <button id="enterButton">‚èé</button> to start the game, 
      arrow keys <button id="leftButton">‚Üê</button> <button id="upButton">‚Üë</button> <button id="downButton">‚Üì</button> <button id="rightButton">‚Üí</button> to move, 
      <button id="ctrlButton">ctrl</button> to shoot, 
      spacebar <button id="spaceButton">&nbsp;&nbsp;&nbsp;&nbsp;</button> to open gates, 
      <button id="altButton">alt</button> and arrow keys to strafe (if your browser does not handle these keys otherwise). 
      On mobile (and mobile only) touch the buttons above. Yeah, I'm not good a UX design.</p>
    <div class="container">
      <canvas id="screen" width="640" height="400" tabindex="0">This is where the DooM screen should render.</canvas>
      <span>&nbsp;</span>
      <div id="output"><span class="log">Hello, World, from JS Console! Answer=42 (101010 in binary)</span><br><span class="log">Hello, world from rust! ü¶Äü¶Äü¶Ä (println! working)</span><br><span class="stdout">Starting D_DoomMain</span><br><span class="stdout">Triggering a printf</span><br><span class="stdout">Doom's screen is 320x200</span><br><span class="log">mallocing 12 bytes at 7078176</span><br><span class="log">mallocing 11 bytes at 7078272</span><br><span class="log">mallocing 11 bytes at 7078288</span><br><span class="log">mallocing 12 bytes at 7078304</span><br><span class="log">mallocing 15 bytes at 7078192</span><br><span class="log">mallocing 12 bytes at 7078216</span><br><span class="log">mallocing 13 bytes at 7078232</span><br><span class="log">mallocing 12 bytes at 7078256</span><br><span class="stdout">                            DOOM Shareware Startup v1.10                           </span><br><span class="stdout">V_Init: allocate screens.</span><br><span class="log">mallocing 256000 bytes at 7078744</span><br><span class="stdout">M_LoadDefaults: Load system defaults.</span><br><span class="stdout">Z_Init: Init zone memory allocation daemon. </span><br><span class="log">mallocing 2097152 bytes at 7334752</span><br><span class="stdout">W_Init: Init WADfiles.</span><br><span class="log">mallocing 1 bytes at 7078320</span><br><span class="stdout"> adding ./doom1.wad</span><br><span class="log">reallocing 25280 bytes. old ptr: 7078320, new ptr: 9431912</span><br><span class="log">mallocing 5056 bytes at 9464688</span><br><span class="stdout">===========================================================================</span><br><span class="stdout">                                Shareware!</span><br><span class="stdout">===========================================================================</span><br><span class="stdout">M_Init: Init miscellaneous info.</span><br><span class="stdout">R_Init: Init DOOM refresh daemon - </span><br><span class="stdout">[</span><br><span class="stdout"> </span><br><span class="stdout"> </span><br><span class="stdout"> </span><br><span class="stdout"> </span><br><span class="stdout"> </span><br><span class="stdout"> </span><br><span class="stdout"> </span><br><span class="stdout"> </span><br><span class="stdout"> </span><br><span class="stdout"> </span><br><span class="stdout">         ]</span><br><span class="stdout"></span><br><span class="stdout"></span><br><span class="stdout"></span><br><span class="stdout"></span><br><span class="stdout"></span><br><span class="stdout"></span><br><span class="stdout"></span><br><span class="stdout"></span><br><span class="stdout"></span><br><span class="stdout"></span><br><span class="stdout"></span><br><span class="stdout">.</span><br><span class="stdout">.</span><br><span class="stdout">InitTextures</span><br><span class="stdout">InitFlats</span><br><span class="stdout">.</span><br><span class="stdout">.</span><br><span class="stdout">.</span><br><span class="stdout">.</span><br><span class="stdout">.</span><br><span class="stdout">.</span><br><span class="stdout">.</span><br><span class="stdout">.</span><br><span class="stdout">InitSprites</span><br><span class="stdout">InitColormaps</span><br><span class="stdout">R_InitData</span><br><span class="stdout">R_InitPointToAngle</span><br><span class="stdout">R_InitTables</span><br><span class="stdout">R_InitPlanes</span><br><span class="stdout">R_InitLightTables</span><br><span class="stdout">R_InitSkyMap</span><br><span class="stdout">R_InitTranslationsTables</span><br><span class="stdout">P_Init: Init Playloop state.</span><br><span class="stdout">I_Init: Setting up machine state.</span><br><span class="stdout">D_CheckNetGame: Checking network game status.</span><br><span class="log">mallocing 140 bytes at 7078320</span><br><span class="stdout">startskill 2  deathmatch: 0  startmap: 1  startepisode: 1</span><br><span class="stdout">player 1 of 1 (1 nodes)</span><br><span class="stdout">S_Init: Setting up sound.</span><br><span class="stderr">S_Init: default sfx volume 8</span><br><span class="stdout">HU_Init: Setting up heads up display.</span><br><span class="stdout">ST_Init: Init status bar.</span><br><span class="log">I_InitGraphics (TODO)</span><br><span class="log">BASETIME initialized to 2389</span><br><span class="stderr">Demo is from a different game version!</span><br><span class="stderr">Demo is from a different game version!</span><br></div>
    </div>
    gettmilliseconds calls per second: <span id="getmsps_stats">0.2k</span> Total getmilliseconds calls: <span id="getms_stats">2897</span><br>
    DooM FPS: <span id="fps_stats">35</span> (target: 35FPS) Total Frames drawn: <span id="drawframes_stats">506</span><br>
    Browser Animation FPS: <span id="animationfps_stats">60</span> (target: around 60FPS, depending on browser)<br>

    <script src="./doom_files/main.js.download" defer=""></script>
  </html>